{% extends 'base.html' %}

{% block content %}

<style type="text/css">
    .create-form {
          width: 100%;
          max-width: 100%;
          padding: 15px;
          margin: auto;
        }
  
        .submit-button{
            max-width: 200px;
        }
  </style>
  
  <div class="container">
      <div class="row">
          <div class="col-lg-7 offset-lg-1">
              <form class="create-form" method="post">{% csrf_token %}
  
             
                <div class="form-group">
                    <label for="id_title">Name</label>
                    <input class="form-control" type="text" name="name" id="id_name" placeholder="Name" required autofocus>
                </div>
                <div class="form-group">
                    <div id="map" style="width:800px; height: 500px;"></div>
                </div>

                <div class="form-group">
                    <label for="id_latitude">Latitude</label>
                    <input class="form-control" type="text" name="latitude" id="id_latitude" placeholder="Latitude" required autofocus>
                </div>

                <div class="form-group">
                    <label for="id_longitute">Longitutde</label>
                    <input class="form-control" type="text" name="longitude" id="id_longitute" placeholder="Longitutde" required autofocus>
                </div>
                {% for field in form %} 
                <p> 
                    {% for error in field.errors %}
                        <p style="color: red">{{ error }}</p>
                    {% endfor %}
                </p>
                {% endfor %}
        
                {% if form.non_field_errors %}
                <div style="color:red">
                        <p>{{form.non_field_errors}}</p>
                </div>
                {% endif %}
  
                  <!-- Submit btn -->
                  <button class="submit-button btn btn-lg btn-primary btn-block" type="submit">Add</button>
              </form>	
          </div>
      </div>
  </div>

  <script>

    var coords = [50.738099451637, -3.53507522602482]; // the geographic center of our map
    var zoomLevel = 5; // the map scale. See: http://wiki.openstreetmap.org/wiki/Zoom_levels
    
    var map = L.map('map').setView(coords, zoomLevel);
    

L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6IjZjNmRjNzk3ZmE2MTcwOTEwMGY0MzU3YjUzOWFmNWZhIn0.Y8bhBaUMqFiPrDRW9hieoQ', {
    maxZoom: 18,
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
        '<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
        'Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
    id: 'mapbox.streets'
}).addTo(map);
</script>
{% endblock content %}
